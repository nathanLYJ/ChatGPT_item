<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NathanLYJ CatChef</title>
    <!-- ê³µí†µ CSS íŒŒì¼ ì—°ê²° -->
    <link rel="stylesheet" href="CSS/common.css" />
    <style>
      /* ëˆˆ íš¨ê³¼ ìŠ¤íƒ€ì¼ */
      .snow {
        position: absolute;
        top: 0;
        font-size: 24px;
        opacity: 0.8;
        animation: fall linear infinite;
      }
      @keyframes fall {
        0% {
          transform: translateY(-100px);
        }
        100% {
          transform: translateY(100vh);
        }
      }
      /* ëˆˆ ìŒ“ì´ëŠ” ì˜ì—­ ìŠ¤íƒ€ì¼ */
      #snow-pile {
        position: absolute;
        bottom: 0;
        width: 100%;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div>
      <div class="sky" id="sky"></div>
      <div class="container">
        <span
          id="txt-rotate"
          data-period="2000"
          data-rotate='["Welcome", "Cat Kitchen"]'
        ></span>
        <h1>The best chef</h1>
        <!-- ì†Œì…œ ì•„ì´ì½˜ ë§í¬ -->
        <p>ëª¨ë“  ìš”ë¦¬ë¥¼ 20ë¶„ì´ë‚´ë¡œ ì™„ì„±í•´ë“œë¦½ë‹ˆë‹¤.</p>
        <p>ìš”ë¦¬ ì‹œì‘í•˜ë©´ ìŒì„±ìœ¼ë¡œ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.</p>
        <div class="social-icons">
          <a href="https://5225f8f0deb655c087.gradio.live">
            <img
              src="./free-animated-icon-cookbook-15578595.png"
              class="icon"
              alt="Chef"
            />
            <span class="icon-Chef">Chef</span>
          </a>
        </div>
      </div>
      <div id="snow-pile"></div>
    </div>

    <script>
      // í˜ì´ì§€ ë¡œë“œ í›„ ëˆˆ íš¨ê³¼ ì‹œì‘
      window.addEventListener("load", function () {
        setTimeout(function () {
          // ëˆˆ íš¨ê³¼ ê´€ë ¨ ì½”ë“œë¥¼ ì—¬ê¸°ë¡œ ì´ë™
          const cookingTerms = [
            "ğŸ¥•", // Carrot
            "ğŸ…", // Tomato
            "ğŸ¥’", // Cucumber
            "ğŸ†", // Eggplant
            "ğŸŒ½", // Corn
            "ğŸ¥”", // Potato
            "ğŸ²", // Pot of food
            "ğŸ³", // Cooking
            "ğŸš", // Rice
            "ğŸœ", // Noodles
            "ğŸ", // Spaghetti
            "ğŸ£", // Sushi
            "ğŸ¥—", // Salad
            "ğŸ", // Bread
            "ğŸ§€", // Cheese
            "ğŸ¥©", // Meat
            "ğŸ—", // Poultry leg
            "ğŸ–", // Meat on bone
            "ğŸ¤", // Fried shrimp
            "ğŸ°", // Cake
          ];

          const MAX_SNOW = 50; // ìµœëŒ€ ëˆˆ(ìŒì‹ ì•„ì´ì½˜) ìˆ˜
          let currentSnow = 0; // í˜„ì¬ í™”ë©´ì— ìˆëŠ” ëˆˆì˜ ìˆ˜

          function createSnow() {
            if (currentSnow >= MAX_SNOW) return; // ìµœëŒ€ ìˆ˜ì— ë„ë‹¬í•˜ë©´ ìƒì„± ì¤‘ë‹¨

            const sky = document.getElementById("sky");
            const snow = document.createElement("div");
            snow.className = "snow";
            snow.style.left = `${Math.random() * 100}%`;
            snow.textContent =
              cookingTerms[Math.floor(Math.random() * cookingTerms.length)];
            snow.style.animationDuration = `${Math.random() * 5 + 5}s`;
            sky.appendChild(snow);
            currentSnow++; // ëˆˆ ê°œìˆ˜ ì¦ê°€

            snow.addEventListener("animationend", () => {
              snow.remove();
              currentSnow--; // ëˆˆ ê°œìˆ˜ ê°ì†Œ
              addToSnowPile(snow.textContent);
            });
          }
          // ëˆˆ ìŒ“ê¸° í•¨ìˆ˜
          function addToSnowPile(text) {
            const snowPile = document.getElementById("snow-pile");
            const snowFlake = document.createElement("span");
            snowFlake.textContent = text;
            const fontSize = Math.floor(Math.random() * 9) + 12;
            snowFlake.style.fontSize = `${fontSize}px`;
            snowPile.appendChild(snowFlake);

            if (snowPile.children.length > 100) {
              snowPile.removeChild(snowPile.firstChild);
            }

            setTimeout(() => {
              snowFlake.style.opacity = "0";
              snowFlake.style.transition = "opacity 2s";
              setTimeout(() => snowFlake.remove(), 2000);
            }, 3000);
          }
          // ëˆˆ ìƒì„± ì‹œì‘
          setInterval(createSnow, 500);
        }, 1000); // 1ì´ˆ í›„ì— ëˆˆ íš¨ê³¼ ì‹œì‘
      });

      // í…ìŠ¤íŠ¸ íšŒì „ íš¨ê³¼ í´ë˜ìŠ¤
      var TxtRotate = function (el, toRotate, period) {
        this.toRotate = toRotate;
        this.el = el;
        this.loopNum = 0;
        this.period = parseInt(period, 10) || 2000;
        this.txt = "";
        this.tick();
        this.isDeleting = false;
      };

      TxtRotate.prototype.tick = function () {
        var i = this.loopNum % this.toRotate.length;
        var fullTxt = this.toRotate[i];

        if (this.isDeleting) {
          this.txt = fullTxt.substring(0, this.txt.length - 1);
        } else {
          this.txt = fullTxt.substring(0, this.txt.length + 1);
        }

        this.el.innerHTML = '<span class="wrap">' + this.txt + "</span>";

        var that = this;
        var delta = 300 - Math.random() * 100;

        if (this.isDeleting) {
          delta /= 2;
        }

        if (!this.isDeleting && this.txt === fullTxt) {
          delta = this.period;
          this.isDeleting = true;
        } else if (this.isDeleting && this.txt === "") {
          this.isDeleting = false;
          this.loopNum++;
          delta = 500;
        }
        setTimeout(function () {
          that.tick();
        }, delta);
      };

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
      window.onload = function () {
        var element = document.getElementById("txt-rotate");
        var toRotate = element.getAttribute("data-rotate");
        var period = element.getAttribute("data-period");
        if (toRotate) {
          new TxtRotate(element, JSON.parse(toRotate), period);
        }
      };
    </script>
  </body>
</html>
